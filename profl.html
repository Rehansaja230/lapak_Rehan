<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profil | Lapak Rehan</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.13/dist/full.min.css" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- Header -->
  <header class="bg-[#0A254A] text-white">
    <div class="container mx-auto flex items-center justify-between py-4 px-6">
      <img src="resource/Image/logolapak.png" alt="Logo Lapak Rehan" class="w-20">
      <button onclick="goToMainMenu()" class="bg-[#35ADC6] py-2 px-4 rounded-lg hover:bg-[#2790A0]">Kembali ke Menu Utama</button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto py-16 px-4">
    <div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg">
      <h2 class="text-2xl font-bold text-center mb-6">Profil Pengguna</h2>
      <div id="profileView" class="space-y-4">
        <div>
          <p class="text-sm font-semibold text-gray-600">Nama Lengkap:</p>
          <p class="text-lg font-semibold text-gray-800" id="userName">Muhamad Rehan Firmansyah</p>
        </div>
        <div>
          <p class="text-sm font-semibold text-gray-600">Email:</p>
          <p class="text-lg font-semibold text-gray-800" id="userEmail">rehansaja230@gmail.com</p>
        </div>
        <div>
          <p class="text-sm font-semibold text-gray-600">Telepon:</p>
          <p class="text-lg font-semibold text-gray-800" id="userPhone">+62 227832 2150</p>
        </div>
        <button onclick="editProfile()" class="bg-[#35ADC6] text-white py-2 px-4 rounded-lg hover:bg-[#2790A0]">Edit Profil</button>
      </div>

      <div id="profileEdit" class="hidden space-y-4">
        <div>
          <label for="editName" class="text-sm font-semibold text-gray-600">Nama Lengkap:</label>
          <input type="text" id="editName" class="w-full px-4 py-2 border rounded-lg" />
        </div>
        <div>
          <label for="editEmail" class="text-sm font-semibold text-gray-600">Email:</label>
          <input type="email" id="editEmail" class="w-full px-4 py-2 border rounded-lg" />
        </div>
        <div>
          <label for="editPhone" class="text-sm font-semibold text-gray-600">Telepon:</label>
          <input type="text" id="editPhone" class="w-full px-4 py-2 border rounded-lg" />
        </div>
        <div class="flex gap-4">
          <button onclick="saveProfile()" class="bg-[#35ADC6] text-white py-2 px-4 rounded-lg hover:bg-[#2790A0]">Simpan</button>
          <button onclick="cancelEdit()" class="bg-gray-300 text-black py-2 px-4 rounded-lg">Batal</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-[#0A254A] text-white py-6">
    <div class="container mx-auto text-center">
      <p class="text-sm">&copy; 2024 Lapak Rehan. Semua Hak Dilindungi.</p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    // Simulasi data pengguna di localStorage
    if (!localStorage.getItem('userProfile')) {
      localStorage.setItem('userProfile', JSON.stringify({
        name: 'Muhamad Rehan Firmansyah',
        email: 'rehansaja230@gmail.com',
        phone: '+62 227832 2150'
      }));
    }

    // Fungsi untuk kembali ke menu utama
    function goToMainMenu() {
      window.location.href = 'index_noresponsive.html'; // Terhubung ke menu utama
    }

    // Menampilkan data profil
    function displayProfile() {
      const profile = JSON.parse(localStorage.getItem('userProfile'));
      document.getElementById('userName').innerText = profile.name;
      document.getElementById('userEmail').innerText = profile.email;
      document.getElementById('userPhone').innerText = profile.phone;
    }

    // Mode edit profil
    function editProfile() {
      const profile = JSON.parse(localStorage.getItem('userProfile'));

      document.getElementById('editName').value = profile.name;
      document.getElementById('editEmail').value = profile.email;
      document.getElementById('editPhone').value = profile.phone;

      document.getElementById('profileView').classList.add('hidden');
      document.getElementById('profileEdit').classList.remove('hidden');
    }

    // Simpan perubahan profil
    function saveProfile() {
      const updatedProfile = {
        name: document.getElementById('editName').value,
        email: document.getElementById('editEmail').value,
        phone: document.getElementById('editPhone').value
      };

      localStorage.setItem('userProfile', JSON.stringify(updatedProfile));
      alert('Profil berhasil diperbarui!');

      cancelEdit(); // Kembali ke mode tampilan
      displayProfile(); // Tampilkan data yang baru
    }

    // Membatalkan edit
    function cancelEdit() {
      document.getElementById('profileView').classList.remove('hidden');
      document.getElementById('profileEdit').classList.add('hidden');
    }

    // Menampilkan profil saat halaman dimuat
    document.addEventListener('DOMContentLoaded', displayProfile);
  </script>
</body>
</html>
